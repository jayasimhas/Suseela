@using Glass.Mapper.Sc.Web.Mvc
@model Informa.Web.ViewModels.IAnalyticsViewModel

<script type="text/javascript">
    /* * *
    ANALYTICS DATA
    * * */
    var analytics_data = {
        "page_name": "@Model.PageTitleAnalytics",
		"page_type": "@Model.PageType",
		"actual_publish_date": "@Model.ArticlePublishDate",
		"article_author": "@Html.Raw(Model.ArticleAuthors)",
        "article_content_type": "@Model.ArticleContentType",
		"article_embargo": "@Model.ArticleEmbargoed",
		"article_media_type": "@Model.ArticleMediaType",
		"article_number": "@Model.ArcticleNumber",
        "created_date": "@Model.DateCreated",
		"custom_tags": "@Model.CustomTags",
		"page_description": "@Model.PageDescription",
		"page_title_override": "@Model.PageTitleOverride",
        "taxonomy_region": "@Html.Raw(Model.ArticleRegions)",
		"taxonomy_subjects": "@Html.Raw(Model.ArticleSubject)",
		"taxonomy_therapy_areas": "@Html.Raw(Model.ArticleTherapy)",
		"login_status": "@Model.IsUserLoggedIn",
		"IsArticleFree": "@Model.IsFree",
        "user_id": "@Model.UserName",
		"company": "@Model.UserCompany",
		"user_entitlement_type": "@Html.Raw(Model.UserEntitlements)",
		"entitlement_status": "@Html.Raw(Model.UserEntitlementStatus)",
		"industry": "@Model.UserIndustry",
        "user_email": "@Model.UserEmail",
		"current_email_subscriptions": "@Html.Raw(Model.SubscribedProducts)",
		"page_keywords": "@Model.MetaKeyWords",
		"company_Id" : "@Model.CompanyId",
		"article_entitlements" : "@Model.Article_Entitlement",
		"User_IP_Address":"@Model.UserIp",
        "salesforce_contact_id" : "@Model.ContactId",
		"salesforce_account_id":"@Model.AccountId",
		"publication":"@Model.PublicationName"
    };

    var utag_data = analytics_data;

    (function (a, b, c, d) {
        a = '//tags.tiqcdn.com/utag/informa/main/@Model.SiteEnvrionment/utag.js';
        b = document; c = 'script'; d = b.createElement(c); d.src = a;
        d.type = 'text/java' + c; d.async = true;
        a = b.getElementsByTagName(c)[0];
        a.parentNode.insertBefore(d, a);
    })();

</script>
