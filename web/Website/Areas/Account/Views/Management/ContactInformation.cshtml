@model Informa.Web.Areas.Account.ViewModels.Management.ContactInformationViewModel

@if (Model.IsAuthenticated)
{
    <div class="page-account">
        <h1 class="page-account__header">@Model.Title</h1>
        <div class="page-preferences js-preferences-user-container">

            <div class="page-account__field-wrapper
                        page-account__field-wrapper--float
                        page-account__field-wrapper--bordered-alt-left">
                <h2 class="page-account__subheader">User Name / Email Address</h2>

                @Model.UserNameTitleText

                @Model.UserContext.User.Username

                <p>@Html.Raw(Model.UpdateHelpText)</p>

            </div>

            <div class="page-account__field-wrapper
                        page-account__field-wrapper--float
                        page-account__field-wrapper--bordered-right">

                <h2 class="page-account__subheader">@Model.PasswordTitleText</h2>

                <form class="form-update-account-pass"
                      data-on-submit="/Account/api/ContactInfoApi/UpdatePassword/">

                    <p>
                        <label for="CurrentPassword" class="page-account__text-label">
                            @Model.CurrentPasswordLabelText <span class="asterisk-required"></span>
                        </label>
                        <input type="text"
                               name="CurrentPassword"
                               placeholder="@Model.CurrentPasswordPlaceholderText">
                    </p>

                    <p>
                        <label for="NewPassword" class="page-account__text-label">
                            @Html.Raw(Model.NewPasswordLabelText) <span class="asterisk-required"></span>
                        </label>
                        <input type="text"
                               name="NewPassword"
                               placeholder="@Model.NewPasswordPlaceholderText">
                    </p>

                    <p>
                        <label for="NewPasswordConfirm" class="page-account__text-label">
                            @Model.NewPasswordConfirmLabelText <span class="asterisk-required"></span>
                        </label>
                        <input type="text"
                               name="NewPasswordConfirm"
                               placeholder="@Model.NewPasswordConfirmPlaceholderText">
                    </p>

                    <div class="page-preferences__submit-wrapper">
                        <button type="submit" class="button--filled button--fly-right">@Model.UpdatePasswordText</button>
                    </div>

                </form>

                <p style="display: none;" class="js-preferences-user-success">@Model.PasswordUpdatedText</p>

            </div>

            <hr>

            <form class="form-update-account-contact"
                  action="/Account/api/PreferencesApi/UpdateContactInfo/" method="POST">

                  <div class="page-account__field-wrapper page-account__field-wrapper--float">

                    <div class="page-account__field-wrapper page-account__field-wrapper--full">

                        <h2 class="page-account__subheader">@Model.NameTitleText</h2>

                        <p>
                            <label for="Salutation" class="page-account__text-label">
                                @Model.SalutationLabelText
                            </label>
                            <select name="Salutation">
                                @foreach (var o in Model.Salutations)
                                {
                                    <option @(@Model.SfUserProfile.Salutation.Equals(o.Text) ? "selected" : "") value="@o.Value">@o.Text</option>
                                }
                            </select>
                        </p>

                        <p>
                            <label for="FirstName" class="page-account__text-label">
                                @Model.FirstNameLabelText <span class="asterisk-required"></span>
                            </label>
                            <input type="text"
                                   name="FirstName"
                                   value="@Model.SfUserProfile.FirstName"
                                   placeholder="@Model.FirstNamePlaceholderText">
                        </p>

                        <p>
                            <label for="MiddleInitial" class="page-account__text-label">
                                @Model.MiddleInitialLabelText
                            </label>
                            <input type="text"
                                   name="MiddleInitial"
                                   value="@Model.SfUserProfile.MiddleInitial"
                                   placeholder="@Model.MiddleInitialPlaceholderText">
                        </p>

                        <p>
                            <label for="LastName" class="page-account__text-label">
                                @Model.LastNameLabelText <span class="asterisk-required"></span>
                            </label>
                            <input type="text"
                                   name="LastName"
                                   value="@Model.SfUserProfile.LastName"
                                   placeholder="@Model.LastNamePlaceholderText">
                        </p>

                        <p>
                            <label for="NameSuffix" class="page-account__text-label">
                                @Model.NameSuffixLabelText
                            </label>
                            <select name="NameSuffix">
                                @foreach (var o in Model.Suffixes)
                                {
                                    <option @(@Model.SfUserProfile.NameSuffix.Equals(o.Text) ? "selected" : "") value="@o.Value">@o.Text</option>
                                }
                            </select>
                        </p>
                    </div>

                    <div class="page-account__field-wrapper page-account__field-wrapper--full">

                        <h2 class="page-account__subheader">@Model.CompanyTitleText</h2>

                        <p>
                            <label for="Company" class="page-account__text-label">
                                @Model.CompanyLabelText <span class="asterisk-required"></span>
                            </label>
                            <input type="text"
                                   name="Company"
                                   value="@Model.SfUserProfile.Company"
                                   placeholder="@Model.CompanyPlaceholderText">
                        </p>

                        <p>
                            <label for="Company" class="page-account__text-label">
                                @Model.AssociatedCompanyLabelText
                            </label>

                            @Model.AssociatedCompany

                        </p>

                        <p>
                            <label for="JobTitle" class="page-account__text-label">
                                @Model.JobTitleLabelText <span class="asterisk-required"></span>
                            </label>
                            <input type="text"
                                   name="JobTitle"
                                   value="@Model.SfUserProfile.JobTitle"
                                   placeholder="@Model.JobTitlePlaceholderText">
                        </p>

                        <p>
                            <label for="JobFunction" class="page-account__text-label">
                                @Model.JobFunctionLabelText
                            </label>
                            <select name="JobFunction">
                                @foreach (var o in Model.JobFunctions)
                                {
                                    <option @(@Model.SfUserProfile.JobFunction.Equals(o.Text) ? "selected" : "") value="@o.Value">@o.Text</option>
                                }
                            </select>
                        </p>

                        <div>
                            <label for="JobIndustry">
                                @Model.JobIndustryLabelText <span class="asterisk-required"></span>
                            </label>
                            <select name="JobIndustry">
                                @foreach (var o in Model.JobIndustries)
                                {
                                    <option @(@Model.SfUserProfile.JobIndustry.Equals(o.Text) ? "selected" : "") value="@o.Value">@o.Text</option>
                                }
                            </select>
                        </div>
                    </div>

                    <div class="page-account__field-wrapper page-account__field-wrapper--full">

                        <h2 class="page-account__subheader">@Model.PhoneTitleText</h2>

                        <p>
                            <label for="PhoneType" class="page-account__text-label">
                                @Model.PhoneTypeLabelText <span class="asterisk-required"></span>
                            </label>
                            <select name="PhoneType">
                                @foreach (var o in Model.PhoneTypes)
                                {
                                    <option @(@Model.SfUserProfile.PhoneType.Equals(o.Text) ? "selected" : "") value="@o.Value">@o.Text</option>
                                }
                            </select>
                        </p>

                        <p>
                            <label for="CountryCode" class="page-account__text-label">
                                @Model.CountryCodeLabelText
                            </label>
                            <input type="text"
                                   name="CountryCode"
                                   value="@Model.SfUserProfile.CountryCode"
                                   placeholder="@Model.CountryCodePlaceholderText">
                        </p>

                        <p>
                            <label for="Phone" class="page-account__text-label">
                                @Model.PhoneLabelText <span class="asterisk-required"></span>
                            </label>
                            <input type="text"
                                   name="Phone"
                                   value="@Model.SfUserProfile.Phone"
                                   placeholder="@Model.PhonePlaceholderText">
                        </p>

                        <p>
                            <label for="PhoneExtension" class="page-account__text-label">
                                @Model.PhoneExtensionLabelText
                            </label>
                            <input type="text"
                                   name="PhoneExtension"
                                   value="@Model.SfUserProfile.PhoneExtension"
                                   placeholder="@Model.PhoneExtensionPlaceholderText">
                        </p>

                        <p>
                            <label for="Fax" class="page-account__text-label">
                                @Model.FaxLabelText
                            </label>
                            <input type="text"
                                   name="Fax"
                                   value="@Model.SfUserProfile.Fax"
                                   placeholder="@Model.FaxPlaceholderText">
                        </p>
                    </div>
                </div>

                <div class="page-account__field-wrapper page-account__field-wrapper--float">
                    <div class="page-account__field-wrapper page-account__field-wrapper--full">

                        <h2 class="page-account__subheader">@Model.BillingTitleText</h2>

                        <p>
                            <label for="BillCountry" class="page-account__text-label">
                                @Model.BillCountryLabelText <span class="asterisk-required"></span>
                            </label>
                            <select name="BillCountry">
                                @foreach (var o in Model.Countries)
                                {
                                    <option @(@Model.SfUserProfile.BillCountry.Equals(o.Text) ? "selected" : "") value="@o.Value">@o.Text</option>
                                }
                            </select>
                        </p>

                        <p>
                            <label for="BillAddress1" class="page-account__text-label">
                                @Model.BillAddress1LabelText <span class="asterisk-required"></span>
                            </label>
                            <input type="text"
                                   name="BillAddress1"
                                   value="@Model.SfUserProfile.BillAddress1"
                                   placeholder="@Model.BillAddress1PlaceholderText">
                        </p>

                        <p>
                            <label for="BillAddress2" class="page-account__text-label">
                                @Model.BillAddress2LabelText
                            </label>
                            <input type="text"
                                   name="BillAddress2"
                                   value="@Model.SfUserProfile.BillAddress2"
                                   placeholder="@Model.BillAddress2PlaceholderText">
                        </p>

                        <p>
                            <label for="BillCity" class="page-account__text-label">
                                @Model.BillCityLabelText <span class="asterisk-required"></span>
                            </label>
                            <input type="text"
                                   name="BillCity"
                                   value="@Model.SfUserProfile.BillCity"
                                   placeholder="@Model.BillCityPlaceholderText">
                        </p>

                        <p>
                            <label for="BillState" class="page-account__text-label">
                                @Model.BillStateLabelText
                            </label>
                            <input type="text"
                                   name="BillState"
                                   value="@Model.SfUserProfile.BillState"
                                   placeholder="@Model.BillStatePlaceholderText">
                        </p>

                        <p>
                            <label for="BillPostalCode" class="page-account__text-label">
                                @Model.BillPostalCodeLabelText
                            </label>
                            <input type="text"
                                   name="BillPostalCode"
                                   value="@Model.SfUserProfile.BillPostalCode"
                                   placeholder="@Model.BillPostalCodePlaceholderText">
                        </p>

                    </div>

                    <div class="page-account__field-wrapper page-account__field-wrapper--full">

                        <h2 class="page-account__subheader">@Model.ShippingTitleText</h2>

                        <p>
                            <input name="SameAsBilling"
                                   type="checkbox"
                                   data-checkbox-type="boolean">
                            <label for="SameAsBilling" class="checkbox-label">@Model.SameAsBillingLabel</label>
                        </p>

                        <p>
                            <label for="ShipCountry" class="page-account__text-label">
                                @Model.ShipCountryLabelText <span class="asterisk-required"></span>
                            </label>
                            <select name="ShipCountry">
                                @foreach (var o in Model.Countries)
                                {
                                    <option @(@Model.SfUserProfile.ShipCountry.Equals(o.Text) ? "selected" : "") value="@o.Value">@o.Text</option>
                                }
                            </select>
                        </p>

                        <p>
                            <label for="ShipAddress1" class="page-account__text-label">
                                @Model.ShipAddress1LabelText <span class="asterisk-required"></span>
                            </label>
                            <input type="text"
                                   name="ShipAddress1"
                                   value="@Model.SfUserProfile.ShipAddress1"
                                   placeholder="@Model.ShipAddress1PlaceholderText">
                        </p>

                        <p>
                            <label for="ShipAddress2" class="page-account__text-label">
                                @Model.ShipAddress2LabelText
                            </label>
                            <input type="text"
                                   name="ShipAddress2"
                                   value="@Model.SfUserProfile.ShipAddress2"
                                   placeholder="@Model.ShipAddress2PlaceholderText">
                        </p>

                        <p>
                            <label for="ShipCity" class="page-account__text-label">
                                @Model.ShipCityLabelText <span class="asterisk-required"></span>
                            </label>
                            <input type="text"
                                   name="ShipCity"
                                   value="@Model.SfUserProfile.ShipCity"
                                   placeholder="@Model.ShipCityPlaceholderText">
                        </p>

                        <p>
                            <label for="ShipState" class="page-account__text-label">
                                @Model.ShipStateLabelText
                            </label>
                            <input type="text"
                                   name="ShipState"
                                   value="@Model.SfUserProfile.ShipState"
                                   placeholder="@Model.ShipStatePlaceholderText">
                        </p>

                        <p>
                            <label for="ShipPostalCode" class="page-account__text-label">
                                @Model.ShipPostalCodeLabelText
                            </label>
                            <input type="text"
                                   name="ShipPostalCode"
                                   value="@Model.SfUserProfile.ShipPostalCode"
                                   placeholder="@Model.ShipPostalCodePlaceholderText">
                        </p>

                    </div>

                    <div class="page-preferences__submit-wrapper">
                        <button type="submit" class="button--filled button--fly-right">@Model.UpdateContactInfoText</button>
                    </div>

                </div>

                </form>

                <p style="display: none;" class="js-preferences-user-success">@Model.AccountUpdatedText</p>



            <div style="display: none;" class="js-preferences-user-error-container">
                <p style="display: none;" class="js-preferences-user-error js-preferences-user-error-general">@Model.GeneralErrorText</p>
            </div>
        </div>
    </div>
}
else
{
    Html.RenderPartial("_SignInForm", Model.SignInViewModel);
}
